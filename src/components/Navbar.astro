---
import { Image } from "astro:assets";
import logo from "../images/logo.jpeg";
---

<nav class="bg-white shadow-lg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <div class="flex items-center">
        <a href="/" class="flex-shrink-0 flex items-center">
          <Image src={logo} class="h-8 w-8 rounded-full" alt="YaBlog Logo" width={32} height={32} />
          <span class="text-xl font-semibold text-gray-800 ml-2">YaBlog</span>
        </a>
        <div class="hidden md:ml-6 md:flex md:space-x-8">
          <a href="/" class="inline-flex items-center px-1 pt-1 border-b-2 border-indigo-500 text-sm font-medium leading-5 text-gray-900 focus:outline-none focus:border-indigo-700 transition duration-150 ease-in-out">
            Home
          </a>
          <a href="/articles" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out">
            Articles
          </a>
          <a href="/about" class="inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium leading-5 text-gray-500 hover:text-gray-700 hover:border-gray-300 focus:outline-none focus:text-gray-700 focus:border-gray-300 transition duration-150 ease-in-out">
            About
          </a>
        </div>
      </div>
      <div class="flex items-center">
        <a href="/api/auth/signout" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
          Sign Out
        </a>
      </div>
    </div>
  </div>
</nav>

<script>
  const path = window.location.pathname;
  const links = document.querySelectorAll('nav a');
  links.forEach(link => {
    if (link.getAttribute('href') === path) {
      link.classList.remove('text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');
      link.classList.add('border-indigo-500', 'text-gray-900');
    }
  });
</script>